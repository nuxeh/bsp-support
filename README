The files contained in this repository are the source code requried to build
support into a Baserock system to support a particular implementation using
a SoCFPGA device, both using the SoC and FPGA.

To generate the files needed to build support for the SoC on a SoCFPGA device,
a number of software tools are required:

- Quartus (Web edition)
    https://www.altera.com/products/design-software/fpga-design/quartus-ii/quartus-ii-web-edition.html
- Altera SoC EDS (SoC embedded design suite)
    https://www.altera.com/products/design-software/embedded-software-developers/soc-eds/overview.html

Both tools are free to download.

Three things are required, and can be generated using these tools:
1. Device tree source
2. Board support package
3. Hardware handoff files

1. Building the dts

      /opt/altera/15.0/embedded/embedded_command_shell.sh
      sopc2dts --input hps.sopcinfo \
               --output rocketboard.dts \
               --type dts \
               --board /opt/altera/15.0/embedded/examples/hardware/cv_soc_devkit_ghrd/soc_system_board_info.xml \
               --board /opt/altera/15.0/embedded/examples/hardware/cv_soc_devkit_ghrd/hps_common_board_info.xml \
               --bridge-removal all --clocks

    This is part of the Altera SoC EDS (SoC embedded design suite)

2. Generating the BSP files

If you change the SoC configuration, adding new hardware to communicate with the FPGA, you will likely have to re-generate these files, using the sopcinfo file, and the bsp generator, and replace the spl_bsp folder in this repo.

.
├── dts-generated
│   └── socfpga-devkit.dts
├── hardware-handoff
│   └── spl_bsp
│       ├── generated
│       │   ├── build.h
│       │   ├── iocsr_config_cyclone5.c
│       │   ├── iocsr_config_cyclone5.h
│       │   ├── pinmux_config_cyclone5.c
│       │   ├── pinmux_config.h
│       │   ├── pll_config.h
│       │   ├── reset_config.h
│       │   └── sdram
│       │       └── sdram_config.h
│       ├── Makefile
│       ├── settings.bsp
│       └── uboot-socfpga
├── README
└── socfpga-devkit-env.txt

- Generating the hardware handoff files

The hardware handoff files are generated by Quartus once a project is compiled.
The project should include a QSys design for the SoC and parameters of attached
hardware, e.g. RAM. The handoff folder will be in the project directory under
hardware_handoff.
